# Copied output from a small get_species_list.py search
species = {1075904: {'COX1': [['COX1', 'JN842980', 'CDS', 700], ['COX1', 'JN842979', 'CDS', 700], ['COX1', 'JN842978', 'CDS', 700], ['COX1', 'JN842977', 'CDS', 700], ['COX1', 'JN842976', 'CDS', 700], ['COX1', 'JN842975', 'CDS', 700], ['COX1', 'JN842974', 'CDS', 700], ['COX1', 'JN842973', 'CDS', 700], ['COX1', 'JN842972', 'CDS', 683], ['COX1', 'JN842971', 'CDS', 700], ['COX1', 'JN842970', 'CDS', 700], ['COX1', 'JN842969', 'CDS', 700], ['COX1', 'JN842968', 'CDS', 700], ['COX1', 'JN842967', 'CDS', 700], ['COX1', 'JN842966', 'CDS', 667], ['COX1', 'JN842965', 'CDS', 700], ['COX1', 'JN842964', 'CDS', 680], ['COX1', 'JN842963', 'CDS', 700], ['COX1', 'JN842962', 'CDS', 700], ['COX1', 'JN842961', 'CDS', 700]]}, 1075905: {'COX1': [['COX1', 'JN842994', 'CDS', 700], ['COX1', 'JN842993', 'CDS', 700], ['COX1', 'JN842992', 'CDS', 700], ['COX1', 'JN842991', 'CDS', 700], ['COX1', 'JN842990', 'CDS', 700], ['COX1', 'JN842989', 'CDS', 697], ['COX1', 'JN842988', 'CDS', 700], ['COX1', 'JN842987', 'CDS', 700], ['COX1', 'JN842986', 'CDS', 700], ['COX1', 'JN842985', 'CDS', 700], ['COX1', 'JN842984', 'CDS', 700], ['COX1', 'JN842983', 'CDS', 700], ['COX1', 'JN842982', 'CDS', 700], ['COX1', 'JN842981', 'CDS', 700]]}, 1075906: {'COX1': [['COX1', 'JN842999', 'CDS', 700], ['COX1', 'JN842998', 'CDS', 700], ['COX1', 'JN842997', 'CDS', 700], ['COX1', 'JN842996', 'CDS', 677], ['COX1', 'JN842995', 'CDS', 700]]}, 1075907: {'COX1': [['COX1', 'JN843005', 'CDS', 700], ['COX1', 'JN843004', 'CDS', 700], ['COX1', 'JN843003', 'CDS', 666], ['COX1', 'JN843002', 'CDS', 700], ['COX1', 'JN843001', 'CDS', 700], ['COX1', 'JN843000', 'CDS', 700]]}, 1075908: {'COX1': [['COX1', 'JN843048', 'CDS', 700], ['COX1', 'JN843047', 'CDS', 700], ['COX1', 'JN843046', 'CDS', 700], ['COX1', 'JN843045', 'CDS', 662], ['COX1', 'JN843044', 'CDS', 668], ['COX1', 'JN843043', 'CDS', 700], ['COX1', 'JN843042', 'CDS', 700], ['COX1', 'JN843041', 'CDS', 700], ['COX1', 'JN843040', 'CDS', 700], ['COX1', 'JN843039', 'CDS', 700], ['COX1', 'JN843038', 'CDS', 700], ['COX1', 'JN843037', 'CDS', 700], ['COX1', 'JN843036', 'CDS', 700], ['COX1', 'JN843035', 'CDS', 700], ['COX1', 'JN843034', 'CDS', 700], ['COX1', 'JN843033', 'CDS', 700], ['COX1', 'JN843032', 'CDS', 685], ['COX1', 'JN843031', 'CDS', 689], ['COX1', 'JN843030', 'CDS', 650], ['COX1', 'JN843029', 'CDS', 700]]}, 1075909: {'COX1': [['COX1', 'JN845050', 'CDS', 700]]}, 207422: {'COX1': [['COX1', 'KM846890', 'CDS', 658], ['COX1', 'KM844493', 'CDS', 658], ['COX1', 'GU681185', 'CDS', 658], ['COX1', 'GU681184', 'CDS', 658], ['COX1', 'GU681183', 'CDS', 658], ['COX1', 'GU681182', 'CDS', 658], ['COX1', 'HM416750', 'CDS', 658], ['COX1', 'GU680559', 'CDS', 658], ['COX1', 'GU680558', 'CDS', 658], ['COX1', 'GU680551', 'CDS', 658], ['COX1', 'GU680549', 'CDS', 658], ['COX1', 'GU680546', 'CDS', 658], ['COX1', 'GU680539', 'CDS', 658], ['COX1', 'GU680535', 'CDS', 658], ['COX1', 'GU680534', 'CDS', 658], ['COX1', 'GU680506', 'CDS', 658], ['COX1', 'GU680505', 'CDS', 624], ['COX1', 'GU680504', 'CDS', 658], ['COX1', 'GU680503', 'CDS', 658], ['COX1', 'GU680501', 'CDS', 658]]}, 398601: {'SSU': [['SSU', 'KJ548214', 'rRNA', 353]]}, 253321: {'ND1': [['ND1', 'AY368226', 'CDS', 89]]}, 207423: {'LSU': [['LSU', 'AY138645', 'rRNA', 509]]}, 1553294: {'COX1': [['COX1', 'MZ660659', 'CDS', 658], ['COX1', 'MZ660488', 'CDS', 658], ['COX1', 'MZ658204', 'CDS', 658], ['COX1', 'KU916271', 'CDS', 658], ['COX1', 'KU913032', 'CDS', 658], ['COX1', 'KM446031', 'CDS', 615], ['COX1', 'KJ966132', 'CDS', 658]]}, 1943823: {'COX1': [['COX1', 'KU874915', 'CDS', 658]]}, 1075903: {'COX1': [['COX1', 'JN842954', 'CDS', 700], ['COX1', 'JN842953', 'CDS', 700], ['COX1', 'JN842952', 'CDS', 700], ['COX1', 'JN842951', 'CDS', 700]]}, 107800: {'COX1': [['COX1', 'KU913466', 'CDS', 658], ['COX1', 'KU909897', 'CDS', 658], ['COX1', 'KU907711', 'CDS', 658]]}, 624220: {'SSU': [['SSU', 'FN257610', 'rRNA', 384]]}, 309088: {'LSU': [['LSU', 'AJ850377', 'rRNA', 509]]}, 1267234: {'COX1': [['COX1', 'HM385964', 'CDS', 658], ['COX1', 'GU681170', 'CDS', 605], ['COX1', 'JN290524', 'CDS', 647], ['COX1', 'KJ203422', 'CDS', 657], ['COX1', 'KU874910', 'CDS', 326], ['COX1', 'KC502357', 'CDS', 658], ['COX1', 'KC502356', 'CDS', 658], ['COX1', 'KC016747', 'CDS', 658], ['COX1', 'KC016746', 'CDS', 514], ['COX1', 'KC016745', 'CDS', 621], ['COX1', 'KC016744', 'CDS', 658], ['COX1', 'KC016743', 'CDS', 658], ['COX1', 'KC016742', 'CDS', 623]]}, 940476: {'COX1': [['COX1', 'FR751065', 'CDS', 628]]}, 2791662: {'COX1': [['COX1', 'JF890095', 'CDS', 658], ['COX1', 'JF890094', 'CDS', 658], ['COX1', 'JF890093', 'CDS', 658]]}, 469493: {'SSU': [['SSU', 'EF670261', 'rRNA', 599]]}, 940472: {'COX1': [['COX1', 'FR751064', 'CDS', 628]]}, 940473: {'SSU': [['SSU', 'LC466129', 'rRNA', 785]]}, 940474: {'COX1': [['COX1', 'AB674738', 'CDS', 769], ['COX1', 'AB674737', 'CDS', 769], ['COX1', 'FR751063', 'CDS', 628], ['COX1', 'FR751062', 'CDS', 628], ['COX1', 'FR751061', 'CDS', 628], ['COX1', 'FR751052', 'CDS', 628], ['COX1', 'FR751048', 'CDS', 628], ['COX1', 'FR751047', 'CDS', 628], ['COX1', 'FR751044', 'CDS', 628], ['COX1', 'FR751043', 'CDS', 628]]}, 940475: {'COX1': [['COX1', 'FR751050', 'CDS', 628], ['COX1', 'FR751049', 'CDS', 628]]}, 183356: {'COX1': [['COX1', 'JF887756', 'CDS', 658], ['COX1', 'JF887751', 'CDS', 658], ['COX1', 'HM411819', 'CDS', 658], ['COX1', 'KR491367', 'CDS', 658], ['COX1', 'KU874914', 'CDS', 636]]}, 183357: {'SSU': [['SSU', 'KJ548215', 'rRNA', 353]]}, 1075902: {'COX1': [['COX1', 'JN842950', 'CDS', 700], ['COX1', 'JN842949', 'CDS', 700], ['COX1', 'JN842948', 'CDS', 700], ['COX1', 'JN842947', 'CDS', 700], ['COX1', 'JN842946', 'CDS', 700], ['COX1', 'JN842945', 'CDS', 700], ['COX1', 'JN842944', 'CDS', 700], ['COX1', 'JN842943', 'CDS', 700], ['COX1', 'JN842942', 'CDS', 700], ['COX1', 'JN842941', 'CDS', 700], ['COX1', 'JN842940', 'CDS', 700], ['COX1', 'JN842939', 'CDS', 675], ['COX1', 'JN842938', 'CDS', 700], ['COX1', 'JN842937', 'CDS', 650], ['COX1', 'JN842936', 'CDS', 662], ['COX1', 'JN842935', 'CDS', 700], ['COX1', 'JN842934', 'CDS', 700], ['COX1', 'JN842933', 'CDS', 648], ['COX1', 'JN842932', 'CDS', 689], ['COX1', 'JN842931', 'CDS', 700]]}, 940477: {'COX1': [['COX1', 'KU919266', 'CDS', 658], ['COX1', 'KU917874', 'CDS', 658], ['COX1', 'KM441488', 'CDS', 658], ['COX1', 'KM439402', 'CDS', 658], ['COX1', 'FR751066', 'CDS', 628]]}}

# Trying to get longest sequence for each gene for each species.
# Struggling to get the dict syntax rightfor the output.
# Ultimately will have saved sequences in species dict, and will output longest sequences as fasta.
# Is a dict a sensible intermediate step here?


def findmax(x):
    maxrec = x[0]
    for rec in x:
        if rec[3] > maxrec[3]:
            maxrec = rec
    return maxrec

longest = {}
for tax, stdname in species.items():
    for gene, list in stdname.items():
        new = findmax(list)
        if gene in longest:
            longest[gene].append(new)
        else:
            longest[gene] = [new]
print(species)
print(longest)
        #new = max(list, key=lambda x: x[2])

        #species[tax][stdname] = new

    #if tax in longest:
        #longest[tax].append({stdname: maxrec})
    #else:
        #longest[tax] = {stdname: maxrec}
        #longest = {tax: {stdname: maxrec}}

#print("longest:")
#print(longest)

